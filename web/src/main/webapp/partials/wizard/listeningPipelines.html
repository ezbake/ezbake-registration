<div class="form-content" id="regproc-pipelines">
    <ul class="no-disc">
        <div ng-hide="wantToAddNewPipeline">
            <h2>Listener Pipeline Information:</h2>
            <li>
                <div class="input-container">
                    <div class="input-label">Pipeline Name</div>
                    <div class="input-field"><input name="feedName" ng-model="page.currentItem.feedName" value="{{page.currentItem.feedName}}" class="input"></div>
                </div>
                <div class="input-container">
                    <div class="input-label">Pipeline Description</div>
                    <div class="input-field"><input name="description" ng-model="page.currentItem.description" class="input"  /></div>
                </div>
                <div class="input-container">
                    <auto-complete title="Topics You're Listening To" actual-values="page.currentItem.listeningTopics"
                                   possible-values="allTopicNames" input-field-class="input-field" input-label-class="input-label" input-short-class="input-short"/>
                </div>

                <h2>Topics to Broadcast To: (optional)</h2>
                <div class="newTopic">
                    <div class="input-container">
                        <div class="input-label">Topic Name</div>
                        <div class="input-field"><input ng-model="newListenerTopic.name" ng-blur="topicNameIsUnique(newListenerTopic.name)" class="input-short" /></div>
                    </div>
                    <div class="input-container">
                        <div class="input-label">Topic Description</div>
                        <div class="input-field"><input ng-model="newListenerTopic.description" class="input" placeholder="What data is broadcasted and when" /></div>
                    </div>
                    <div class="input-container">
                        <div class="input-label small">Thrift Definition</div>
                        <div class="input-field half">
                            <div ng-controller="FileUploadCtrl" id="uploadPipelinesThrift" class="import" ng-init="listenerTopicDetail = {}">
                                <div class="import-btn-over inline">
			                        <div class="fileUpload chooseBtn thriftBtn inline middle">Upload Thrift Definition<input type="file" ng-file-select="uploadThrift($files, newListenerTopic, listenerTopicDetail)" class="choose-file fixedWidth inline middle"/></div>
			                        <input id="listenerTopicFile" placeholder="No file chosen" disabled="disabled" class="file-display inline middle font-green" ng-model=" listenerTopicDetail.thriftFileName" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="input-container">
                        <div class="input-label"></div>
                        <div class="input-field"><button type="button" class="btn gray fixed-width-btn" ng-click="addListenerTopic(page.currentItem, newListenerTopic)">Add Topic</button></div>
                    </div>
                </div>
                <ul class="no-disc" ng-repeat="topic in page.currentItem.broadcastTopics" title="Topics List">
                    <div class="input-field">
                        <div class="data-item">
                            <li class="relative">
                                <div class="relative">
                                    <div class="item-container no-margin">{{topic.name}}</div>
                                    <button type="button" class="remove" title="Remove Topic" alt="Remove Topic" ng-click="removeTopic(page.currentItem, $index)"><span aria-hidden="true" class="icon-remove"></span></button>
                                </div>
                            </li>
                        </div>
                    </div>
                </ul>
            </li>
            <div><button type="button" class="btn large-btn" ng-click="addCurrentItem(page)">Add Pipeline</button></div>
            <div class="centered">
                <button type="button" class="cancel-app cancel-small" ng-click="continueRegistration(page, 'cancel')">Cancel</button>
            </div>
        </div>
    </ul>
</div>
